

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Install Annolid &mdash; annolid 1.5.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=9edc463e" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=73275c37"></script>
      <script src="_static/doctools.js?v=fd6eb6e6"></script>
      <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Read PDFs Aloud with AI Voice (Text-to-Speech)" href="read_pdf_with_ai_voice.html" />
    <link rel="prev" title="Annolid User Guide" href="guide.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            annolid
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="guide.html">Annolid User Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Install Annolid</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-up-conda-environment">Set up Conda environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-ffmpeg">Install ffmpeg</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">Install Annolid</a></li>
<li class="toctree-l2"><a class="reference internal" href="#windows-pycocotools">Windows: pycocotools</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linux-qt-xcb-plugin-error">Linux: Qt “xcb” plugin error</a></li>
<li class="toctree-l2"><a class="reference internal" href="#launch-annolid">Launch Annolid</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-detectron2-locally">Install Detectron2 locally</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-detectron2-dependencies">Install Detectron2 dependencies:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-detectron2">Install Detectron2:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#install-detectron2-on-google-colab">Install Detectron2 on Google Colab</a></li>
<li class="toctree-l2"><a class="reference internal" href="#optional-install-older-version-of-pytorch-for-yolact">Optional: Install older version of Pytorch for YOLACT</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="read_pdf_with_ai_voice.html">Read PDFs Aloud with AI Voice (Text-to-Speech)</a></li>
<li class="toctree-l1"><a class="reference internal" href="extract_frames.html">Extract Frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="track_animals.html">Track animals and Auto labeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="track_animals.html#output-csv-format">Output CSV format</a></li>
<li class="toctree-l1"><a class="reference internal" href="track_animals.html#cutie-dino-body-part-tracker">Cutie + DINO Body-Part Tracker</a></li>
<li class="toctree-l1"><a class="reference internal" href="video_depth_anything.html">Video Depth Anything</a></li>
<li class="toctree-l1"><a class="reference internal" href="image_editing.html">Image Editing (Local Diffusion / GGUF)</a></li>
<li class="toctree-l1"><a class="reference internal" href="dino_kpseg.html">DINOv3 Keypoint Segmentation (DinoKPSEG)</a></li>
<li class="toctree-l1"><a class="reference internal" href="agent_tools.html">Agent Tools Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="agent_provider_setup.html">Annolid Bot Provider and Model Setup Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="agent_whatsapp_tutorial.html">Annolid Bot WhatsApp Setup Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="llm_key_security.html">LLM API Key Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="yoloe_prompting.html">YOLOE-26 Prompting (Text / Visual / Prompt-free)</a></li>
<li class="toctree-l1"><a class="reference internal" href="keypoints_definitions.html">Config keypoint connection rules, events, and instances</a></li>
<li class="toctree-l1"><a class="reference internal" href="faqs.html">FAQs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">annolid</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Install Annolid</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/install.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="install-annolid">
<h1>Install Annolid<a class="headerlink" href="#install-annolid" title="Link to this heading"></a></h1>
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Ubuntu / macOS / Windows</p></li>
<li><p>Python &gt;= 3.10</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code> (recommended for robust video decoding)</p></li>
</ul>
</section>
<section id="set-up-conda-environment">
<h2>Set up Conda environment<a class="headerlink" href="#set-up-conda-environment" title="Link to this heading"></a></h2>
<p>To run Annolid, we suggest using Conda. Download and install <a class="reference external" href="https://www.anaconda.com/products/individual">Anaconda</a> (or Miniconda), then:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># For MacOS or Linux</span>
<span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">annolid</span><span class="o">-</span><span class="n">env</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.11</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">annolid</span><span class="o">-</span><span class="n">env</span>
<span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">git</span> <span class="n">ffmpeg</span>
</pre></div>
</div>
<p>On Windows, run the same commands in Anaconda Prompt/PowerShell.</p>
</section>
<section id="install-ffmpeg">
<h2>Install ffmpeg<a class="headerlink" href="#install-ffmpeg" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">conda-forge</span> <span class="pre">ffmpeg</span></code></p>
</section>
<section id="id1">
<h2>Install Annolid<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<p>Clone the code repo from Github, change into the new directory, and install</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>--recurse-submodules<span class="w"> </span>https://github.com/healthonrails/annolid.git
<span class="nb">cd</span><span class="w"> </span>annolid

<span class="c1"># install the package (be sure to include the space and the period after the -e)</span>
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
<p>Install <a class="reference external" href="https://ffmpeg.org/">ffmpeg</a> (for example with <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">conda-forge</span> <span class="pre">ffmpeg</span></code>) to ensure OpenCV can decode a wide range of video formats during playback.</p>
</section>
<section id="windows-pycocotools">
<h2>Windows: pycocotools<a class="headerlink" href="#windows-pycocotools" title="Link to this heading"></a></h2>
<p>If you encounter errors on Windows for <code class="docutils literal notranslate"><span class="pre">pycocotools</span></code>, please download and install Visual Studio 2019 from the link below:
https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/?sku=Community&amp;rel=16</p>
<p>Then please run the following command in your terminal.
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">&quot;git+https://github.com/philferriere/cocoapi.git#egg=pycocotools&amp;subdirectory=PythonAPI&quot;</span></code></p>
</section>
<section id="linux-qt-xcb-plugin-error">
<h2>Linux: Qt “xcb” plugin error<a class="headerlink" href="#linux-qt-xcb-plugin-error" title="Link to this heading"></a></h2>
<p>To fix the error <code class="docutils literal notranslate"><span class="pre">&quot;Failed</span> <span class="pre">to</span> <span class="pre">load</span> <span class="pre">platform</span> <span class="pre">plugin</span> <span class="pre">\&quot;xcb\&quot;&quot;</span></code> while launching the Qt app on Linux:</p>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">--reinstall</span> <span class="pre">libxcb-xinerama0</span></code></p>
</section>
<section id="launch-annolid">
<h2>Launch Annolid<a class="headerlink" href="#launch-annolid" title="Link to this heading"></a></h2>
<p>Typing “annolid” will bring up the Annolid GUI, which is based on the excellent <a class="reference external" href="https://github.com/wkentaro/labelme">LabelMe</a> package.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># be sure to activate the annolid virtual environment every time you restart Anaconda; the conda shell prompt should read &quot;(annolid)&quot;</span>
conda<span class="w"> </span>activate<span class="w"> </span>annolid-env
<span class="c1"># then start Annolid (a GUI window will appear)</span>
annolid

<span class="c1"># Optionally, you can use a predefined label.txt file as follows.</span>
annolid<span class="w"> </span>--labels<span class="o">=</span>/path/to/labels_custom.txt
</pre></div>
</div>
</section>
<section id="install-detectron2-locally">
<h2>Install Detectron2 locally<a class="headerlink" href="#install-detectron2-locally" title="Link to this heading"></a></h2>
<p><strong>Note</strong>: if you intend to process your tagged videos using Google Colab (which you should do unless you are using a workstation with a higher-end GPU), then <strong>you do not need to install Detectron2 on your local machine</strong>, and you can ignore the following steps.</p>
<section id="id2">
<h3>Requirements<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Windows, Linux or macOS with Python ≥ 3.10</p></li>
<li><p>PyTorch ≥ 1.5 and <a class="reference external" href="https://github.com/pytorch/vision/">torchvision</a> that matches the PyTorch installation.
Install them together at <a class="reference external" href="https://pytorch.org">pytorch.org</a> to make sure of this.
Presently, the combination of torch 1.8 and torchvision 0.9.1 works well, along with pyyaml 5.3, as shown below.
For purposes of using Annolid, it is OK to downgrade pyyaml from its current version to 5.3.</p></li>
</ul>
</section>
<section id="install-detectron2-dependencies">
<h3>Install Detectron2 dependencies:<a class="headerlink" href="#install-detectron2-dependencies" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pyyaml</span><span class="o">==</span><span class="mf">5.3</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">pycocotools</span><span class="o">&gt;=</span><span class="mf">2.0.1</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">torch</span><span class="o">==</span><span class="mf">1.9.0</span><span class="o">+</span><span class="n">cu102</span> <span class="n">torchvision</span><span class="o">==</span><span class="mf">0.10.0</span><span class="o">+</span><span class="n">cu102</span> <span class="o">-</span><span class="n">f</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="o">.</span><span class="n">pytorch</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">whl</span><span class="o">/</span><span class="n">torch_stable</span><span class="o">.</span><span class="n">html</span>

</pre></div>
</div>
</section>
<section id="install-detectron2">
<h3>Install Detectron2:<a class="headerlink" href="#install-detectron2" title="Link to this heading"></a></h3>
<p>See <a class="reference external" href="https://detectron2.readthedocs.io/tutorials/install.html">https://detectron2.readthedocs.io/tutorials/install.html</a> for further information.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import torch
assert torch.__version__.startswith(&quot;1.9&quot;)
pip install detectron2 -f https://dl.fbaipublicfiles.com/detectron2/wheels/cu102/torch1.9/index.html

### Install Detectron2 on Windows 10

`git clone https://github.com/facebookresearch/detectron2.git`
`cd detectron2`
`pip install -e .`

</pre></div>
</div>
<p>Note. If you encounter an error  on windows with message says:</p>
<p><code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">_run_ninja_build</span> <span class="pre">raise</span> <span class="pre">RuntimeError(message)</span> <span class="pre">RuntimeError:</span> <span class="pre">Error</span> <span class="pre">compiling</span> <span class="pre">objects</span> <span class="pre">for</span> <span class="pre">extension</span></code>
Please go to the link https://support.microsoft.com/en-us/topic/the-latest-supported-visual-c-downloads-2647da03-1eea-4433-9aff-95f26a218cc0
and  download <code class="docutils literal notranslate"><span class="pre">x64:</span> <span class="pre">vc_redist.x64.exe</span></code>.
Please click and install it.
After restart, you can cd to detectron2 folder and run the following command.
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">.</span></code>.</p>
</section>
</section>
<section id="install-detectron2-on-google-colab">
<h2>Install Detectron2 on Google Colab<a class="headerlink" href="#install-detectron2-on-google-colab" title="Link to this heading"></a></h2>
<p>Instructions will be posted here presently.  (Colab uses CUDA 10.2 + torch 1.9.0).
<a href="https://colab.research.google.com/github/healthonrails/annolid/blob/master/docs/tutorials/Annolid_on_Detectron2_Tutorial.ipynb" target="_blank"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>
</section>
<section id="optional-install-older-version-of-pytorch-for-yolact">
<h2>Optional: Install older version of Pytorch for YOLACT<a class="headerlink" href="#optional-install-older-version-of-pytorch-for-yolact" title="Link to this heading"></a></h2>
<p>Note: YOLACT models are less accurate comparing to Mask-RCNN in Detectron2. However, it is faster in terms of inference.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># DCNv2 will not work if Pytorch is greater than 1.4.0
!pip install torchvision==0.5.0
!pip install torch==1.4.0
</pre></div>
</div>
<p>For more information, please check https://github.com/healthonrails/annolid/blob/master/docs/tutorials/Train_networks_tutorial_v1.0.1.ipynb and https://github.com/healthonrails/yolac.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="guide.html" class="btn btn-neutral float-left" title="Annolid User Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="read_pdf_with_ai_voice.html" class="btn btn-neutral float-right" title="Read PDFs Aloud with AI Voice (Text-to-Speech)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Chen Yang.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>